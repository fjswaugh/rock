#pragma once

#include "types.h"
#include <vector>

namespace rock
{

auto apply_move(Move, Board, Player) -> Board;
auto apply_move(Move, Position) -> Position;

auto list_moves(Position const&) -> std::vector<Move>;
auto count_moves(Position const&, int level = 1) -> std::size_t;
auto is_move_legal(Move, Position const&) -> bool;
auto list_legal_destinations(BoardCoordinates from, Position const&)
    -> std::vector<BoardCoordinates>;

auto get_game_outcome(Position const&) -> GameOutcome;

/**
 * Positive result is good for the player making the move
 */
auto recommend_move(Position const&) -> MoveRecommendation;
auto evaluate_position(Position const&) -> ScoreType;

/**
 * Normalize a score generated by the above functions so that positive always
 * means that White is winning
 */
auto normalize_score(ScoreType score, Player player) -> ScoreType;

}  // namespace rock
